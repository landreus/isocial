<html>
<head>
    <script type="text/javascript" src="lib/jquery-1.11.0.js"></script>
    <script type="text/javascript" src="lib/sha1.js"></script>
    <script type="text/javascript" src="lib/jsbn.js"></script>
    <script type="text/javascript" src="lib/jsbn2.js"></script>
    <script type="text/javascript" src="lib/peer.js"></script>
    <script type="text/javascript" src="kadrtc.js"></script>
</head>

<body>

<div>
    Enter peer Id <input type="text" id="peerId" />
    <input type="button" id="connectToPeer" value="Connect to peer"/>
    <input type="button" id="sendHeartbeat" value="Send heartbeat"/>
</div>

<div id="data"></div>

<script type="text/javascript">
$(document).ready(function(){
    // Initialize.
    kadrtc.initialize();
    $("#connectToPeer").click(function(){
        var peerId = $("#peerId").val();
        kadrtc.routes.add(peerId);
    });
    $("#sendHeartbeat").click(function(){
        if(kadrtc.routes.length === 0)
            return void(0);
        for(var i = 0; i < kadrtc.routes.length; i ++)
            kadrtc.routes[i].connection.send({type: "heartbeat"});
    });
});
</script>
</body>
</html>